[
    {
        "metadata": {
            "name": "orbit-lake-user-ttt",
            "namespace": "lake-user",
            "selfLink": "/apis/batch/v1beta1/namespaces/lake-user/cronjobs/orbit-lake-user-ttt",
            "uid": "3d63ceea-66e0-4481-91f0-6a4f74261b9e",
            "resourceVersion": "745500",
            "creationTimestamp": "2021-03-12T18:49:06Z",
            "labels": {
                "app": "orbit-runner",
                "cronjob_id": "orbit-lake-user-ttt",
                "orbit/node-type": "fargate",
                "username": "amirbo"
            },
            "managedFields": [
                {
                    "manager": "OpenAPI-Generator",
                    "operation": "Update",
                    "apiVersion": "batch/v1beta1",
                    "time": "2021-03-12T18:49:06Z",
                    "fieldsType": "FieldsV1",
                    "fieldsV1": {
                        "f:metadata": {
                            "f:labels": {
                                ".": {},
                                "f:app": {},
                                "f:cronjob_id": {},
                                "f:orbit/node-type": {},
                                "f:username": {}
                            }
                        },
                        "f:spec": {
                            "f:concurrencyPolicy": {},
                            "f:failedJobsHistoryLimit": {},
                            "f:jobTemplate": {
                                "f:spec": {
                                    "f:backoffLimit": {},
                                    "f:template": {
                                        "f:metadata": {
                                            "f:labels": {
                                                ".": {},
                                                "f:app": {},
                                                "f:cronjob_id": {},
                                                "f:orbit/node-type": {},
                                                "f:username": {}
                                            },
                                            "f:name": {}
                                        },
                                        "f:spec": {
                                            "f:containers": {
                                                "k:{\"name\":\"notebook\"}": {
                                                    ".": {},
                                                    "f:args": {},
                                                    "f:env": {
                                                        ".": {},
                                                        "k:{\"name\":\"AWS_ORBIT_ENV\"}": {
                                                            ".": {},
                                                            "f:name": {},
                                                            "f:value": {}
                                                        },
                                                        "k:{\"name\":\"AWS_ORBIT_S3_BUCKET\"}": {
                                                            ".": {},
                                                            "f:name": {},
                                                            "f:value": {}
                                                        },
                                                        "k:{\"name\":\"AWS_ORBIT_TEAM_SPACE\"}": {
                                                            ".": {},
                                                            "f:name": {},
                                                            "f:value": {}
                                                        },
                                                        "k:{\"name\":\"AWS_STS_REGIONAL_ENDPOINTS\"}": {
                                                            ".": {},
                                                            "f:name": {},
                                                            "f:value": {}
                                                        },
                                                        "k:{\"name\":\"JUPYTERHUB_USER\"}": {
                                                            ".": {},
                                                            "f:name": {},
                                                            "f:value": {}
                                                        },
                                                        "k:{\"name\":\"USERNAME\"}": {
                                                            ".": {},
                                                            "f:name": {},
                                                            "f:value": {}
                                                        },
                                                        "k:{\"name\":\"compute\"}": {
                                                            ".": {},
                                                            "f:name": {},
                                                            "f:value": {}
                                                        },
                                                        "k:{\"name\":\"task_type\"}": {
                                                            ".": {},
                                                            "f:name": {},
                                                            "f:value": {}
                                                        },
                                                        "k:{\"name\":\"tasks\"}": {
                                                            ".": {},
                                                            "f:name": {},
                                                            "f:value": {}
                                                        }
                                                    },
                                                    "f:image": {},
                                                    "f:imagePullPolicy": {},
                                                    "f:lifecycle": {},
                                                    "f:name": {},
                                                    "f:ports": {
                                                        ".": {},
                                                        "k:{\"containerPort\":22,\"protocol\":\"TCP\"}": {
                                                            ".": {},
                                                            "f:containerPort": {},
                                                            "f:name": {},
                                                            "f:protocol": {}
                                                        }
                                                    },
                                                    "f:resources": {
                                                        ".": {},
                                                        "f:limits": {
                                                            ".": {},
                                                            "f:cpu": {},
                                                            "f:memory": {}
                                                        },
                                                        "f:requests": {
                                                            ".": {},
                                                            "f:cpu": {},
                                                            "f:memory": {}
                                                        }
                                                    },
                                                    "f:securityContext": {
                                                        ".": {},
                                                        "f:runAsGroup": {},
                                                        "f:runAsUser": {}
                                                    },
                                                    "f:terminationMessagePath": {},
                                                    "f:terminationMessagePolicy": {},
                                                    "f:volumeMounts": {
                                                        ".": {},
                                                        "k:{\"mountPath\":\"/efs\"}": {
                                                            ".": {},
                                                            "f:mountPath": {},
                                                            "f:name": {}
                                                        }
                                                    }
                                                }
                                            },
                                            "f:dnsPolicy": {},
                                            "f:nodeSelector": {
                                                ".": {},
                                                "f:orbit/usage": {}
                                            },
                                            "f:restartPolicy": {},
                                            "f:schedulerName": {},
                                            "f:securityContext": {
                                                ".": {},
                                                "f:fsGroup": {}
                                            },
                                            "f:serviceAccount": {},
                                            "f:serviceAccountName": {},
                                            "f:terminationGracePeriodSeconds": {},
                                            "f:volumes": {
                                                ".": {},
                                                "k:{\"name\":\"efs-volume\"}": {
                                                    ".": {},
                                                    "f:name": {},
                                                    "f:persistentVolumeClaim": {
                                                        ".": {},
                                                        "f:claimName": {}
                                                    }
                                                }
                                            }
                                        }
                                    },
                                    "f:ttlSecondsAfterFinished": {}
                                }
                            },
                            "f:schedule": {},
                            "f:successfulJobsHistoryLimit": {},
                            "f:suspend": {}
                        }
                    }
                },
                {
                    "manager": "kube-controller-manager",
                    "operation": "Update",
                    "apiVersion": "batch/v1beta1",
                    "time": "2021-03-14T20:48:03Z",
                    "fieldsType": "FieldsV1",
                    "fieldsV1": {
                        "f:status": {
                            "f:active": {},
                            "f:lastScheduleTime": {}
                        }
                    }
                }
            ]
        },
        "spec": {
            "schedule": "0/2 * 1/1 * ? ",
            "concurrencyPolicy": "Allow",
            "suspend": false,
            "jobTemplate": {
                "metadata": {
                    "creationTimestamp": null
                },
                "spec": {
                    "backoffLimit": 0,
                    "template": {
                        "metadata": {
                            "name": "run-jupyter",
                            "creationTimestamp": null,
                            "labels": {
                                "app": "orbit-runner",
                                "cronjob_id": "orbit-lake-user-ttt",
                                "orbit/node-type": "fargate",
                                "username": "amirbo"
                            }
                        },
                        "spec": {
                            "volumes": [
                                {
                                    "name": "efs-volume",
                                    "persistentVolumeClaim": {
                                        "claimName": "jupyterhub"
                                    }
                                }
                            ],
                            "containers": [
                                {
                                    "name": "notebook",
                                    "image": "495869084367.dkr.ecr.us-west-2.amazonaws.com/orbit-dev-env-lake-user-jupyter-user:latest",
                                    "args": [
                                        "bash",
                                        "-c",
                                        "/home/jovyan/.orbit/bootstrap.sh && python /opt/python-utils/notebook_cli.py"
                                    ],
                                    "ports": [
                                        {
                                            "name": "notebook-port",
                                            "containerPort": 22,
                                            "protocol": "TCP"
                                        }
                                    ],
                                    "env": [
                                        {
                                            "name": "AWS_ORBIT_ENV",
                                            "value": "dev-env"
                                        },
                                        {
                                            "name": "AWS_ORBIT_TEAM_SPACE",
                                            "value": "lake-user"
                                        },
                                        {
                                            "name": "AWS_STS_REGIONAL_ENDPOINTS",
                                            "value": "regional"
                                        },
                                        {
                                            "name": "JUPYTERHUB_USER",
                                            "value": "amirbo"
                                        },
                                        {
                                            "name": "USERNAME",
                                            "value": "amirbo"
                                        },
                                        {
                                            "name": "AWS_ORBIT_S3_BUCKET",
                                            "value": "orbit-dev-env-toolkit-495869084367-b81a1f"
                                        },
                                        {
                                            "name": "task_type",
                                            "value": "jupyter"
                                        },
                                        {
                                            "name": "tasks",
                                            "value": "{\"tasks\": [{\"notebookName\": \"Example-1-SQL-Analysis-Athena.ipynb\", \"sourcePath\": \"shared/samples/notebooks/B-DataAnalyst\", \"targetPath\": \"shared/regression/notebooks/B-DataAnalyst\", \"targetPrefix\": \"ttt\", \"params\": {\"glue_db\": \"cms_raw_db\", \"target_db\": \"users\"}}]}"
                                        },
                                        {
                                            "name": "compute",
                                            "value": "{\"compute\": {\"compute_type\": \"eks\", \"node_type\": \"fargate\"}}"
                                        }
                                    ],
                                    "resources": {
                                        "limits": {
                                            "cpu": "2",
                                            "memory": "2G"
                                        },
                                        "requests": {
                                            "cpu": "2",
                                            "memory": "2G"
                                        }
                                    },
                                    "volumeMounts": [
                                        {
                                            "name": "efs-volume",
                                            "mountPath": "/efs"
                                        }
                                    ],
                                    "lifecycle": {},
                                    "terminationMessagePath": "/dev/termination-log",
                                    "terminationMessagePolicy": "File",
                                    "imagePullPolicy": "Always",
                                    "securityContext": {
                                        "runAsUser": 1000,
                                        "runAsGroup": 100
                                    }
                                }
                            ],
                            "restartPolicy": "Never",
                            "terminationGracePeriodSeconds": 30,
                            "dnsPolicy": "ClusterFirst",
                            "nodeSelector": {
                                "orbit/usage": "teams"
                            },
                            "serviceAccountName": "lake-user",
                            "serviceAccount": "lake-user",
                            "securityContext": {
                                "fsGroup": 100
                            },
                            "schedulerName": "default-scheduler"
                        }
                    },
                    "ttlSecondsAfterFinished": 120
                }
            },
            "successfulJobsHistoryLimit": 3,
            "failedJobsHistoryLimit": 1
        },
        "status": {
            "active": [
                {
                    "kind": "Job",
                    "namespace": "lake-user",
                    "name": "orbit-lake-user-ttt-1615754880",
                    "uid": "a4318960-e75d-4966-9a30-e0ae835be1a3",
                    "apiVersion": "batch/v1",
                    "resourceVersion": "745499"
                }
            ],
            "lastScheduleTime": "2021-03-14T20:48:00Z"
        }
    },
    {
        "metadata": {
            "name": "orbit-lake-user-yyy",
            "namespace": "lake-user",
            "selfLink": "/apis/batch/v1beta1/namespaces/lake-user/cronjobs/orbit-lake-user-yyy",
            "uid": "21827aef-c6a4-460e-b2c9-3ddc58806e1b",
            "resourceVersion": "745503",
            "creationTimestamp": "2021-03-12T21:41:16Z",
            "labels": {
                "app": "orbit-runner",
                "cronjob_id": "orbit-lake-user-yyy",
                "orbit/node-type": "fargate",
                "username": "amirbo"
            },
            "managedFields": [
                {
                    "manager": "OpenAPI-Generator",
                    "operation": "Update",
                    "apiVersion": "batch/v1beta1",
                    "time": "2021-03-12T21:41:16Z",
                    "fieldsType": "FieldsV1",
                    "fieldsV1": {
                        "f:metadata": {
                            "f:labels": {
                                ".": {},
                                "f:app": {},
                                "f:cronjob_id": {},
                                "f:orbit/node-type": {},
                                "f:username": {}
                            }
                        },
                        "f:spec": {
                            "f:concurrencyPolicy": {},
                            "f:failedJobsHistoryLimit": {},
                            "f:jobTemplate": {
                                "f:spec": {
                                    "f:backoffLimit": {},
                                    "f:template": {
                                        "f:metadata": {
                                            "f:labels": {
                                                ".": {},
                                                "f:app": {},
                                                "f:cronjob_id": {},
                                                "f:orbit/node-type": {},
                                                "f:username": {}
                                            },
                                            "f:name": {}
                                        },
                                        "f:spec": {
                                            "f:containers": {
                                                "k:{\"name\":\"notebook\"}": {
                                                    ".": {},
                                                    "f:args": {},
                                                    "f:env": {
                                                        ".": {},
                                                        "k:{\"name\":\"AWS_ORBIT_ENV\"}": {
                                                            ".": {},
                                                            "f:name": {},
                                                            "f:value": {}
                                                        },
                                                        "k:{\"name\":\"AWS_ORBIT_S3_BUCKET\"}": {
                                                            ".": {},
                                                            "f:name": {},
                                                            "f:value": {}
                                                        },
                                                        "k:{\"name\":\"AWS_ORBIT_TEAM_SPACE\"}": {
                                                            ".": {},
                                                            "f:name": {},
                                                            "f:value": {}
                                                        },
                                                        "k:{\"name\":\"AWS_STS_REGIONAL_ENDPOINTS\"}": {
                                                            ".": {},
                                                            "f:name": {},
                                                            "f:value": {}
                                                        },
                                                        "k:{\"name\":\"JUPYTERHUB_USER\"}": {
                                                            ".": {},
                                                            "f:name": {},
                                                            "f:value": {}
                                                        },
                                                        "k:{\"name\":\"USERNAME\"}": {
                                                            ".": {},
                                                            "f:name": {},
                                                            "f:value": {}
                                                        },
                                                        "k:{\"name\":\"compute\"}": {
                                                            ".": {},
                                                            "f:name": {},
                                                            "f:value": {}
                                                        },
                                                        "k:{\"name\":\"task_type\"}": {
                                                            ".": {},
                                                            "f:name": {},
                                                            "f:value": {}
                                                        },
                                                        "k:{\"name\":\"tasks\"}": {
                                                            ".": {},
                                                            "f:name": {},
                                                            "f:value": {}
                                                        }
                                                    },
                                                    "f:image": {},
                                                    "f:imagePullPolicy": {},
                                                    "f:lifecycle": {},
                                                    "f:name": {},
                                                    "f:ports": {
                                                        ".": {},
                                                        "k:{\"containerPort\":22,\"protocol\":\"TCP\"}": {
                                                            ".": {},
                                                            "f:containerPort": {},
                                                            "f:name": {},
                                                            "f:protocol": {}
                                                        }
                                                    },
                                                    "f:resources": {
                                                        ".": {},
                                                        "f:limits": {
                                                            ".": {},
                                                            "f:cpu": {},
                                                            "f:memory": {}
                                                        },
                                                        "f:requests": {
                                                            ".": {},
                                                            "f:cpu": {},
                                                            "f:memory": {}
                                                        }
                                                    },
                                                    "f:securityContext": {
                                                        ".": {},
                                                        "f:runAsGroup": {},
                                                        "f:runAsUser": {}
                                                    },
                                                    "f:terminationMessagePath": {},
                                                    "f:terminationMessagePolicy": {},
                                                    "f:volumeMounts": {
                                                        ".": {},
                                                        "k:{\"mountPath\":\"/efs\"}": {
                                                            ".": {},
                                                            "f:mountPath": {},
                                                            "f:name": {}
                                                        }
                                                    }
                                                }
                                            },
                                            "f:dnsPolicy": {},
                                            "f:nodeSelector": {
                                                ".": {},
                                                "f:orbit/usage": {}
                                            },
                                            "f:restartPolicy": {},
                                            "f:schedulerName": {},
                                            "f:securityContext": {
                                                ".": {},
                                                "f:fsGroup": {}
                                            },
                                            "f:serviceAccount": {},
                                            "f:serviceAccountName": {},
                                            "f:terminationGracePeriodSeconds": {},
                                            "f:volumes": {
                                                ".": {},
                                                "k:{\"name\":\"efs-volume\"}": {
                                                    ".": {},
                                                    "f:name": {},
                                                    "f:persistentVolumeClaim": {
                                                        ".": {},
                                                        "f:claimName": {}
                                                    }
                                                }
                                            }
                                        }
                                    },
                                    "f:ttlSecondsAfterFinished": {}
                                }
                            },
                            "f:schedule": {},
                            "f:successfulJobsHistoryLimit": {},
                            "f:suspend": {}
                        }
                    }
                },
                {
                    "manager": "kube-controller-manager",
                    "operation": "Update",
                    "apiVersion": "batch/v1beta1",
                    "time": "2021-03-14T20:48:03Z",
                    "fieldsType": "FieldsV1",
                    "fieldsV1": {
                        "f:status": {
                            "f:active": {},
                            "f:lastScheduleTime": {}
                        }
                    }
                }
            ]
        },
        "spec": {
            "schedule": "0/3 * 1/1 * ? ",
            "concurrencyPolicy": "Allow",
            "suspend": false,
            "jobTemplate": {
                "metadata": {
                    "creationTimestamp": null
                },
                "spec": {
                    "backoffLimit": 0,
                    "template": {
                        "metadata": {
                            "name": "run-jupyter",
                            "creationTimestamp": null,
                            "labels": {
                                "app": "orbit-runner",
                                "cronjob_id": "orbit-lake-user-yyy",
                                "orbit/node-type": "fargate",
                                "username": "amirbo"
                            }
                        },
                        "spec": {
                            "volumes": [
                                {
                                    "name": "efs-volume",
                                    "persistentVolumeClaim": {
                                        "claimName": "jupyterhub"
                                    }
                                }
                            ],
                            "containers": [
                                {
                                    "name": "notebook",
                                    "image": "495869084367.dkr.ecr.us-west-2.amazonaws.com/orbit-dev-env-lake-user-jupyter-user:latest",
                                    "args": [
                                        "bash",
                                        "-c",
                                        "/home/jovyan/.orbit/bootstrap.sh && python /opt/python-utils/notebook_cli.py"
                                    ],
                                    "ports": [
                                        {
                                            "name": "notebook-port",
                                            "containerPort": 22,
                                            "protocol": "TCP"
                                        }
                                    ],
                                    "env": [
                                        {
                                            "name": "AWS_ORBIT_ENV",
                                            "value": "dev-env"
                                        },
                                        {
                                            "name": "AWS_ORBIT_TEAM_SPACE",
                                            "value": "lake-user"
                                        },
                                        {
                                            "name": "AWS_STS_REGIONAL_ENDPOINTS",
                                            "value": "regional"
                                        },
                                        {
                                            "name": "JUPYTERHUB_USER",
                                            "value": "amirbo"
                                        },
                                        {
                                            "name": "USERNAME",
                                            "value": "amirbo"
                                        },
                                        {
                                            "name": "AWS_ORBIT_S3_BUCKET",
                                            "value": "orbit-dev-env-toolkit-495869084367-b81a1f"
                                        },
                                        {
                                            "name": "task_type",
                                            "value": "jupyter"
                                        },
                                        {
                                            "name": "tasks",
                                            "value": "{\"tasks\": [{\"notebookName\": \"forever.ipynb\", \"sourcePath\": \"shared/samples/notebooks/B-DataAnalyst\", \"targetPath\": \"shared/regression/notebooks/B-DataAnalyst\", \"targetPrefix\": \"ttt\", \"params\": {\"glue_db\": \"cms_raw_db\", \"target_db\": \"users\"}}]}"
                                        },
                                        {
                                            "name": "compute",
                                            "value": "{\"compute\": {\"compute_type\": \"eks\", \"node_type\": \"fargate\"}}"
                                        }
                                    ],
                                    "resources": {
                                        "limits": {
                                            "cpu": "2",
                                            "memory": "2G"
                                        },
                                        "requests": {
                                            "cpu": "2",
                                            "memory": "2G"
                                        }
                                    },
                                    "volumeMounts": [
                                        {
                                            "name": "efs-volume",
                                            "mountPath": "/efs"
                                        }
                                    ],
                                    "lifecycle": {},
                                    "terminationMessagePath": "/dev/termination-log",
                                    "terminationMessagePolicy": "File",
                                    "imagePullPolicy": "Always",
                                    "securityContext": {
                                        "runAsUser": 1000,
                                        "runAsGroup": 100
                                    }
                                }
                            ],
                            "restartPolicy": "Never",
                            "terminationGracePeriodSeconds": 30,
                            "dnsPolicy": "ClusterFirst",
                            "nodeSelector": {
                                "orbit/usage": "teams"
                            },
                            "serviceAccountName": "lake-user",
                            "serviceAccount": "lake-user",
                            "securityContext": {
                                "fsGroup": 100
                            },
                            "schedulerName": "default-scheduler"
                        }
                    },
                    "ttlSecondsAfterFinished": 120
                }
            },
            "successfulJobsHistoryLimit": 3,
            "failedJobsHistoryLimit": 1
        },
        "status": {
            "active": [
                {
                    "kind": "Job",
                    "namespace": "lake-user",
                    "name": "orbit-lake-user-yyy-1615754700",
                    "uid": "d25a841b-52b4-4fb2-955b-229a91202b0c",
                    "apiVersion": "batch/v1",
                    "resourceVersion": "744800"
                },
                {
                    "kind": "Job",
                    "namespace": "lake-user",
                    "name": "orbit-lake-user-yyy-1615754880",
                    "uid": "fa8c5b3f-dd09-487d-b0df-4d264b25d3cc",
                    "apiVersion": "batch/v1",
                    "resourceVersion": "745501"
                }
            ],
            "lastScheduleTime": "2021-03-14T20:48:00Z"
        }
    }
]