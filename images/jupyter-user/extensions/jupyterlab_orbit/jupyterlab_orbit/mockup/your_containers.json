[{"metadata": {"name": "orbit-lake-user-yyy-1615588740", "namespace": "lake-user", "selfLink": "/apis/batch/v1/namespaces/lake-user/jobs/orbit-lake-user-yyy-1615588740", "uid": "28d371f3-01e8-43e8-b1df-555b3f0e3f9a", "resourceVersion": "96245", "creationTimestamp": "2021-03-12T22:39:02Z", "labels": {"app": "orbit-runner", "controller-uid": "28d371f3-01e8-43e8-b1df-555b3f0e3f9a", "cronjob_id": "orbit-lake-user-yyy", "job-name": "orbit-lake-user-yyy-1615588740", "orbit/node-type": "fargate", "username": "amirbo"}, "ownerReferences": [{"apiVersion": "batch/v1beta1", "kind": "CronJob", "name": "orbit-lake-user-yyy", "uid": "21827aef-c6a4-460e-b2c9-3ddc58806e1b", "controller": true, "blockOwnerDeletion": true}], "managedFields": [{"manager": "kube-controller-manager", "operation": "Update", "apiVersion": "batch/v1", "time": "2021-03-12T22:39:02Z", "fieldsType": "FieldsV1", "fieldsV1": {"f:metadata": {"f:labels": {".": {}, "f:app": {}, "f:cronjob_id": {}, "f:orbit/node-type": {}, "f:username": {}}, "f:ownerReferences": {".": {}, "k:{\"uid\":\"21827aef-c6a4-460e-b2c9-3ddc58806e1b\"}": {".": {}, "f:apiVersion": {}, "f:blockOwnerDeletion": {}, "f:controller": {}, "f:kind": {}, "f:name": {}, "f:uid": {}}}}, "f:spec": {"f:backoffLimit": {}, "f:completions": {}, "f:parallelism": {}, "f:template": {"f:metadata": {"f:labels": {".": {}, "f:app": {}, "f:cronjob_id": {}, "f:orbit/node-type": {}, "f:username": {}}, "f:name": {}}, "f:spec": {"f:containers": {"k:{\"name\":\"notebook\"}": {".": {}, "f:args": {}, "f:env": {".": {}, "k:{\"name\":\"AWS_ORBIT_ENV\"}": {".": {}, "f:name": {}, "f:value": {}}, "k:{\"name\":\"AWS_ORBIT_S3_BUCKET\"}": {".": {}, "f:name": {}, "f:value": {}}, "k:{\"name\":\"AWS_ORBIT_TEAM_SPACE\"}": {".": {}, "f:name": {}, "f:value": {}}, "k:{\"name\":\"AWS_STS_REGIONAL_ENDPOINTS\"}": {".": {}, "f:name": {}, "f:value": {}}, "k:{\"name\":\"JUPYTERHUB_USER\"}": {".": {}, "f:name": {}, "f:value": {}}, "k:{\"name\":\"USERNAME\"}": {".": {}, "f:name": {}, "f:value": {}}, "k:{\"name\":\"compute\"}": {".": {}, "f:name": {}, "f:value": {}}, "k:{\"name\":\"task_type\"}": {".": {}, "f:name": {}, "f:value": {}}, "k:{\"name\":\"tasks\"}": {".": {}, "f:name": {}, "f:value": {}}}, "f:image": {}, "f:imagePullPolicy": {}, "f:lifecycle": {}, "f:name": {}, "f:ports": {".": {}, "k:{\"containerPort\":22,\"protocol\":\"TCP\"}": {".": {}, "f:containerPort": {}, "f:name": {}, "f:protocol": {}}}, "f:resources": {".": {}, "f:limits": {".": {}, "f:cpu": {}, "f:memory": {}}, "f:requests": {".": {}, "f:cpu": {}, "f:memory": {}}}, "f:securityContext": {".": {}, "f:runAsGroup": {}, "f:runAsUser": {}}, "f:terminationMessagePath": {}, "f:terminationMessagePolicy": {}, "f:volumeMounts": {".": {}, "k:{\"mountPath\":\"/efs\"}": {".": {}, "f:mountPath": {}, "f:name": {}}}}}, "f:dnsPolicy": {}, "f:nodeSelector": {".": {}, "f:orbit/usage": {}}, "f:restartPolicy": {}, "f:schedulerName": {}, "f:securityContext": {".": {}, "f:fsGroup": {}}, "f:serviceAccount": {}, "f:serviceAccountName": {}, "f:terminationGracePeriodSeconds": {}, "f:volumes": {".": {}, "k:{\"name\":\"efs-volume\"}": {".": {}, "f:name": {}, "f:persistentVolumeClaim": {".": {}, "f:claimName": {}}}}}}, "f:ttlSecondsAfterFinished": {}}, "f:status": {"f:active": {}, "f:startTime": {}}}}]}, "spec": {"parallelism": 1, "completions": 1, "backoffLimit": 0, "selector": {"matchLabels": {"controller-uid": "28d371f3-01e8-43e8-b1df-555b3f0e3f9a"}}, "template": {"metadata": {"name": "run-jupyter", "creationTimestamp": null, "labels": {"app": "orbit-runner", "controller-uid": "28d371f3-01e8-43e8-b1df-555b3f0e3f9a", "cronjob_id": "orbit-lake-user-yyy", "job-name": "orbit-lake-user-yyy-1615588740", "orbit/node-type": "fargate", "username": "amirbo"}}, "spec": {"volumes": [{"name": "efs-volume", "persistentVolumeClaim": {"claimName": "jupyterhub"}}], "containers": [{"name": "notebook", "image": "495869084367.dkr.ecr.us-west-2.amazonaws.com/orbit-dev-env-lake-user-jupyter-user:latest", "args": ["bash", "-c", "/home/jovyan/.orbit/bootstrap.sh && python /opt/python-utils/notebook_cli.py"], "ports": [{"name": "notebook-port", "containerPort": 22, "protocol": "TCP"}], "env": [{"name": "AWS_ORBIT_ENV", "value": "dev-env"}, {"name": "AWS_ORBIT_TEAM_SPACE", "value": "lake-user"}, {"name": "AWS_STS_REGIONAL_ENDPOINTS", "value": "regional"}, {"name": "JUPYTERHUB_USER", "value": "amirbo"}, {"name": "USERNAME", "value": "amirbo"}, {"name": "AWS_ORBIT_S3_BUCKET", "value": "orbit-dev-env-toolkit-495869084367-b81a1f"}, {"name": "task_type", "value": "jupyter"}, {"name": "tasks", "value": "{\"tasks\": [{\"notebookName\": \"forever.ipynb\", \"sourcePath\": \"shared/samples/notebooks/B-DataAnalyst\", \"targetPath\": \"shared/regression/notebooks/B-DataAnalyst\", \"targetPrefix\": \"ttt\", \"params\": {\"glue_db\": \"cms_raw_db\", \"target_db\": \"users\"}}]}"}, {"name": "compute", "value": "{\"compute\": {\"compute_type\": \"eks\", \"node_type\": \"fargate\"}}"}], "resources": {"limits": {"cpu": "2", "memory": "2G"}, "requests": {"cpu": "2", "memory": "2G"}}, "volumeMounts": [{"name": "efs-volume", "mountPath": "/efs"}], "lifecycle": {}, "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "imagePullPolicy": "Always", "securityContext": {"runAsUser": 1000, "runAsGroup": 100}}], "restartPolicy": "Never", "terminationGracePeriodSeconds": 30, "dnsPolicy": "ClusterFirst", "nodeSelector": {"orbit/usage": "teams"}, "serviceAccountName": "lake-user", "serviceAccount": "lake-user", "securityContext": {"fsGroup": 100}, "schedulerName": "default-scheduler"}}}, "status": {"startTime": "2021-03-12T22:39:02Z", "active": 1}}, {"metadata": {"name": "orbit-lake-user-yyy-1615588920", "namespace": "lake-user", "selfLink": "/apis/batch/v1/namespaces/lake-user/jobs/orbit-lake-user-yyy-1615588920", "uid": "0db597eb-d1c3-4a47-ab35-c760b5188c26", "resourceVersion": "96944", "creationTimestamp": "2021-03-12T22:42:03Z", "labels": {"app": "orbit-runner", "controller-uid": "0db597eb-d1c3-4a47-ab35-c760b5188c26", "cronjob_id": "orbit-lake-user-yyy", "job-name": "orbit-lake-user-yyy-1615588920", "orbit/node-type": "fargate", "username": "amirbo"}, "ownerReferences": [{"apiVersion": "batch/v1beta1", "kind": "CronJob", "name": "orbit-lake-user-yyy", "uid": "21827aef-c6a4-460e-b2c9-3ddc58806e1b", "controller": true, "blockOwnerDeletion": true}], "managedFields": [{"manager": "kube-controller-manager", "operation": "Update", "apiVersion": "batch/v1", "time": "2021-03-12T22:42:03Z", "fieldsType": "FieldsV1", "fieldsV1": {"f:metadata": {"f:labels": {".": {}, "f:app": {}, "f:cronjob_id": {}, "f:orbit/node-type": {}, "f:username": {}}, "f:ownerReferences": {".": {}, "k:{\"uid\":\"21827aef-c6a4-460e-b2c9-3ddc58806e1b\"}": {".": {}, "f:apiVersion": {}, "f:blockOwnerDeletion": {}, "f:controller": {}, "f:kind": {}, "f:name": {}, "f:uid": {}}}}, "f:spec": {"f:backoffLimit": {}, "f:completions": {}, "f:parallelism": {}, "f:template": {"f:metadata": {"f:labels": {".": {}, "f:app": {}, "f:cronjob_id": {}, "f:orbit/node-type": {}, "f:username": {}}, "f:name": {}}, "f:spec": {"f:containers": {"k:{\"name\":\"notebook\"}": {".": {}, "f:args": {}, "f:env": {".": {}, "k:{\"name\":\"AWS_ORBIT_ENV\"}": {".": {}, "f:name": {}, "f:value": {}}, "k:{\"name\":\"AWS_ORBIT_S3_BUCKET\"}": {".": {}, "f:name": {}, "f:value": {}}, "k:{\"name\":\"AWS_ORBIT_TEAM_SPACE\"}": {".": {}, "f:name": {}, "f:value": {}}, "k:{\"name\":\"AWS_STS_REGIONAL_ENDPOINTS\"}": {".": {}, "f:name": {}, "f:value": {}}, "k:{\"name\":\"JUPYTERHUB_USER\"}": {".": {}, "f:name": {}, "f:value": {}}, "k:{\"name\":\"USERNAME\"}": {".": {}, "f:name": {}, "f:value": {}}, "k:{\"name\":\"compute\"}": {".": {}, "f:name": {}, "f:value": {}}, "k:{\"name\":\"task_type\"}": {".": {}, "f:name": {}, "f:value": {}}, "k:{\"name\":\"tasks\"}": {".": {}, "f:name": {}, "f:value": {}}}, "f:image": {}, "f:imagePullPolicy": {}, "f:lifecycle": {}, "f:name": {}, "f:ports": {".": {}, "k:{\"containerPort\":22,\"protocol\":\"TCP\"}": {".": {}, "f:containerPort": {}, "f:name": {}, "f:protocol": {}}}, "f:resources": {".": {}, "f:limits": {".": {}, "f:cpu": {}, "f:memory": {}}, "f:requests": {".": {}, "f:cpu": {}, "f:memory": {}}}, "f:securityContext": {".": {}, "f:runAsGroup": {}, "f:runAsUser": {}}, "f:terminationMessagePath": {}, "f:terminationMessagePolicy": {}, "f:volumeMounts": {".": {}, "k:{\"mountPath\":\"/efs\"}": {".": {}, "f:mountPath": {}, "f:name": {}}}}}, "f:dnsPolicy": {}, "f:nodeSelector": {".": {}, "f:orbit/usage": {}}, "f:restartPolicy": {}, "f:schedulerName": {}, "f:securityContext": {".": {}, "f:fsGroup": {}}, "f:serviceAccount": {}, "f:serviceAccountName": {}, "f:terminationGracePeriodSeconds": {}, "f:volumes": {".": {}, "k:{\"name\":\"efs-volume\"}": {".": {}, "f:name": {}, "f:persistentVolumeClaim": {".": {}, "f:claimName": {}}}}}}, "f:ttlSecondsAfterFinished": {}}, "f:status": {"f:active": {}, "f:startTime": {}}}}]}, "spec": {"parallelism": 1, "completions": 1, "backoffLimit": 0, "selector": {"matchLabels": {"controller-uid": "0db597eb-d1c3-4a47-ab35-c760b5188c26"}}, "template": {"metadata": {"name": "run-jupyter", "creationTimestamp": null, "labels": {"app": "orbit-runner", "controller-uid": "0db597eb-d1c3-4a47-ab35-c760b5188c26", "cronjob_id": "orbit-lake-user-yyy", "job-name": "orbit-lake-user-yyy-1615588920", "orbit/node-type": "fargate", "username": "amirbo"}}, "spec": {"volumes": [{"name": "efs-volume", "persistentVolumeClaim": {"claimName": "jupyterhub"}}], "containers": [{"name": "notebook", "image": "495869084367.dkr.ecr.us-west-2.amazonaws.com/orbit-dev-env-lake-user-jupyter-user:latest", "args": ["bash", "-c", "/home/jovyan/.orbit/bootstrap.sh && python /opt/python-utils/notebook_cli.py"], "ports": [{"name": "notebook-port", "containerPort": 22, "protocol": "TCP"}], "env": [{"name": "AWS_ORBIT_ENV", "value": "dev-env"}, {"name": "AWS_ORBIT_TEAM_SPACE", "value": "lake-user"}, {"name": "AWS_STS_REGIONAL_ENDPOINTS", "value": "regional"}, {"name": "JUPYTERHUB_USER", "value": "amirbo"}, {"name": "USERNAME", "value": "amirbo"}, {"name": "AWS_ORBIT_S3_BUCKET", "value": "orbit-dev-env-toolkit-495869084367-b81a1f"}, {"name": "task_type", "value": "jupyter"}, {"name": "tasks", "value": "{\"tasks\": [{\"notebookName\": \"forever.ipynb\", \"sourcePath\": \"shared/samples/notebooks/B-DataAnalyst\", \"targetPath\": \"shared/regression/notebooks/B-DataAnalyst\", \"targetPrefix\": \"ttt\", \"params\": {\"glue_db\": \"cms_raw_db\", \"target_db\": \"users\"}}]}"}, {"name": "compute", "value": "{\"compute\": {\"compute_type\": \"eks\", \"node_type\": \"fargate\"}}"}], "resources": {"limits": {"cpu": "2", "memory": "2G"}, "requests": {"cpu": "2", "memory": "2G"}}, "volumeMounts": [{"name": "efs-volume", "mountPath": "/efs"}], "lifecycle": {}, "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "imagePullPolicy": "Always", "securityContext": {"runAsUser": 1000, "runAsGroup": 100}}], "restartPolicy": "Never", "terminationGracePeriodSeconds": 30, "dnsPolicy": "ClusterFirst", "nodeSelector": {"orbit/usage": "teams"}, "serviceAccountName": "lake-user", "serviceAccount": "lake-user", "securityContext": {"fsGroup": 100}, "schedulerName": "default-scheduler"}}}, "status": {"startTime": "2021-03-12T22:42:03Z", "active": 1}}]