apiVersion: orbit.aws/v1
kind: PodSetting
metadata:
  name: orbit-runner-support-small
  namespace: {{ .Values.team }}
  labels:
    orbit/space: team
    {{- include "team-space.labels" . | nindent 4 }}
spec:
  desc: Orbit Runner Suppoprt SMALL - 256Mi + 200m
  containerSelector:
    jsonpath: "metadata.labels.app"
  podSelector:
    matchExpressions:
      - key: orbit/orbit-runner-support-small
        operator: Exists
  securityContext:
    runAsUser: 1000
  env:
    - name: usage
      value: runner
  resources:
    limits:
      cpu: '1.0'
      memory: 2Gi
    requests:
      cpu: 500m
      memory: 1Gi
  image: {{ .Values.jupyter_team_image}}
---
apiVersion: orbit.aws/v1
kind: PodSetting
metadata:
  name: orbit-runner-support-large
  namespace: {{ .Values.team }}
  labels:
    orbit/space: team
    {{- include "team-space.labels" . | nindent 4 }}
spec:
  desc: Orbit Runner Suppoprt SMALL - 1G + 1CPU
  containerSelector:
    jsonpath: "metadata.labels.app"
  podSelector:
    matchExpressions:
      - key: orbit/orbit-runner-support-large
        operator: Exists
  securityContext:
    runAsUser: 1000
  env:
    - name: usage
      value: runner
  resources:
    limits:
      cpu: '2.0'
      memory: 4Gi
    requests:
      cpu: '1.0'
      memory: 2Gi
  image: {{ .Values.jupyter_team_image}}
