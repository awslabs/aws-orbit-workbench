-   PluginId: custom_cfn
    Module: custom_cfn
    Path: ../plugins/custom_cfn/
    Parameters:
        CfnTemplatePath: "./bundle/plugins/demo-lake-user-cfn-template.yaml"
-   PluginId: code_commit
    Module: code_commit
    Path: ../plugins/code_commit/
-   PluginId: hello_world
    Module: hello_world
    Path: ../plugins/hello_world/
    Parameters:
        foo: boo
        xoo: 1234
-   PluginId: clean_regression_files
    Module: team_script_launcher
    Path: ../plugins/team_script_launcher/
    Parameters:
        script: |
            i=0
            while [ $i -lt 1 ];
            do
              find /home/jovyan/shared/regression -mtime +5 -type f -exec rm {} \;
              sleep 60
            done
            echo "DONE LOOP"
        restartPolicy: Never
-   PluginId: copy-regression-data
    Module: team_script_launcher
    Path: ../plugins/team_script_launcher/
    Parameters:
        script: |
            echo "Copy data to s3 from orbit-regression image ";
            i=0;o='orbit';
            while [ $i -lt 1 ];
            do
                p="$(aws ssm get-parameter --name '/orbit/${env_name}/demo'| jq -r '.Parameter.Value | fromjson | .LakeBucket' | sed 's/arn:aws:s3::://g')";
                if [[ "$p" =~ .*"$o".* ]];
                then
                    echo 'Found bucket '$p;
                    aws s3 cp /opt/orbit/data/cms s3://$p/landing/data/cms/ --recursive;
                    aws s3 cp /opt/orbit/data/sagemaker s3://$p/landing/data/sagemaker/ --recursive;
                    aws s3 cp /opt/orbit/cms/schema s3://$p/landing/cms/schema/ --recursive;
                    exit 0;
                else
                    echo 'No Lake Bucket Found in SSM...sleeping';
                    sleep 60;
                fi
            done
        restartPolicy: Never
        image: public.ecr.aws/v3o4w1g6/aws-orbit-workbench/utility-data:latest
        uid: 0
        gid: 0
-   PluginId: copy-sample-data
    Module: team_script_launcher
    Path: ../plugins/team_script_launcher/
    Parameters:
        script: |
            echo "Copy samples to efs from image ";
            rm -rf /efs/samples;
            cp -R -v /opt/orbit/samples/ /efs;
        restartPolicy: Never
        image: public.ecr.aws/v3o4w1g6/aws-orbit-workbench/utility-data:latest
        uid: 0
        gid: 0
-   PluginId: redshift
    Module: redshift
    Path: ../plugins/redshift/
    Parameters:
        enable_user_activity_logging: "true"
        require_ssl: "true"
        use_fips_ssl: "true"
        node_type: "DC2.large"
        number_of_nodes: "2"

-   PluginId: enable_emr_on_eks
    Module: emr_on_eks
    Path: ../plugins/emr_on_eks/
-   PluginId: fast_fs_lustre
    Module: lustre
    Path: ../plugins/lustre/
    Parameters:
        storage: 1200Gi
        folder: /fsx/data
-   PluginId: ray
    Module: ray
    Path: ../plugins/ray/
    Parameters:
        workers: 2
        release_tag: 1.3.0
-   PluginId: sm-operator
    Module: sm-operator
    Path: ../plugins/sm-operator/
-   PluginId: team-voila
    Module: voila
    Path: ../plugins/voila/
    Parameters:
        restartPolicy: Always
        path: "/home/jovyan/shared/notebooks/V-Voila"
        options: "--debug"